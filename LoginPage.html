<?xml version="1.0" encoding="euc-kr"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" 
              "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta HTTP-EQUIV="Content-Type" CONTENT="text/html;charset=euc-kr" />
    <title>window객체의 연습 - opener속성, close(), open()메소드</title>
    <script type="text/javascript">
     <!--
	   function LoginPage(){//불려진 새로운 윈도우에 표시될 내용설정
	     var subjectList = new Array("JavaScript","XML","Ajax","JAVA","JSP",".Net");//배열생성
		 var str="<h3>수강할 과목 선택</h3><form name='selectForm'>";
		 var i=0;

		 for(i=0; i<subjectList.length;i++ ){//배열의 크기만큼 체크박스 작성
		   //체크박스 생성시 체크박스의 name속성에 모두 같은 값을 주면 주어진 이름으로 값이 문자열 배열의 형태를 이룸
		   //여기서는 selectName이라는 이름의 값의 배열이 생성됨
		   str += "<input type='checkbox' name='selectName' value='"+subjectList[i]+"'>"+subjectList[i]+"<br/>";
		 }
		 str += "<input type='button' value='닫기' onclick='selectProcess()'/></form>";//[닫기]버튼에 이벤트 부여
		 document.write(str);//화면에 만들어진 내용 표시
	   }

	   function selectProcess(){//[닫기]버튼을 클릭하면 호출됨
	     var result="";//현재의 창을 호출한 창에 표시할 내용을 가짐
		 var i=0;
         
		 //생성된 체크박스의 수만큼 반복 수행
		 for(i=0;i<document.selectForm.selectName.length;i++){
		   if(document.selectForm.selectName[i].checked)//지정한 체크박스를 선택했으면
		     result += document.selectForm.selectName[i].value + "\n"; //선택된 체크박스의 값을 result변수에 누적
		 }

		 //현재 윈도우를 호출한 윈도우를 opener로 지칭
		 //여기서 opener는 windowTest10.html페이지가 표시된 창을 지칭함
	     opener.document.testForm.selectedSubject.value = result;//현재의 윈도우를 호출한 창으로 결과값을 전송
		 self.close();//현재 자기 자신의 윈도우를 닫음
	   }

	   LoginPage();//시작 함수 windowTest10_1()호출
	  //-->
   </script>
 
  </head>
  <body>
  </body>
</html>